"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractTypeAndCategory = void 0;
// ğŸ“˜ Tá»« Ä‘iá»ƒn danh má»¥c cÃ³ thá»ƒ má»Ÿ rá»™ng
const categoryDictionary = {
    food: [
        "Äƒn",
        "uá»‘ng",
        "cÃ  phÃª",
        "quÃ¡n Äƒn",
        "nhÃ  hÃ ng",
        "buffet",
        "trÃ  sá»¯a",
        "Äƒn sÃ¡ng",
        "Äƒn trÆ°a",
        "Äƒn tá»‘i",
        "mÃ¬",
        "phá»Ÿ",
        "bÃºn",
        "cÆ¡m",
        "Ä‘áº·t Ä‘á»“ Äƒn",
        "grabfood",
        "baemin",
        "gofood",
    ],
    transportation: [
        "xe",
        "taxi",
        "xÄƒng",
        "bus",
        "grab",
        "be",
        "di chuyá»ƒn",
        "vÃ© xe",
        "báº£o dÆ°á»¡ng xe",
        "rá»­a xe",
        "gá»­i xe",
        "phÃ­ cáº§u Ä‘Æ°á»ng",
        "vÃ© tÃ u",
        "vÃ© mÃ¡y bay",
    ],
    shopping: [
        "mua sáº¯m",
        "quáº§n Ã¡o",
        "giÃ y dÃ©p",
        "shopee",
        "tiki",
        "lazada",
        "Ä‘i chá»£",
        "má»¹ pháº©m",
        "Ä‘iá»‡n thoáº¡i",
        "phá»¥ kiá»‡n",
        "tai nghe",
        "Ä‘á»“ cÃ´ng nghá»‡",
        "balo",
        "Ä‘á»“ng há»“",
        "Ä‘á»“ gia dá»¥ng",
        "mua Ä‘á»“",
    ],
    salary: [
        "lÆ°Æ¡ng",
        "thÆ°á»Ÿng",
        "tráº£ cÃ´ng",
        "thu nháº­p chÃ­nh",
        "tiá»n cÃ´ng",
        "tiá»n lÆ°Æ¡ng",
        "payroll",
        "salary",
    ],
    rent: [
        "tiá»n nhÃ ",
        "thuÃª nhÃ ",
        "phÃ²ng trá»",
        "nhÃ  trá»",
        "tiá»n trá»",
        "cá»c nhÃ ",
        "thuÃª phÃ²ng",
    ],
    housing: [
        "Ä‘iá»‡n",
        "nÆ°á»›c",
        "internet",
        "wifi",
        "truyá»n hÃ¬nh",
        "rÃ¡c",
        "vá»‡ sinh",
        "sá»­a nhÃ ",
        "mua Ä‘á»“ nhÃ ",
        "báº£o trÃ¬ nhÃ ",
    ],
    health: [
        "bá»‡nh viá»‡n",
        "khÃ¡m",
        "thuá»‘c",
        "báº£o hiá»ƒm y táº¿",
        "xÃ©t nghiá»‡m",
        "nha khoa",
        "tiÃªm",
        "kháº©u trang",
        "vitamin",
        "dinh dÆ°á»¡ng",
    ],
    sales: [
        "bÃ¡n hÃ ng",
        "doanh thu",
        "thu nháº­p phá»¥",
        "tiá»n bÃ¡n Ä‘á»“",
        "chá»‘t Ä‘Æ¡n",
        "shop",
        "order",
        "bÃ¡n online",
        "bÃ¡n quáº§n Ã¡o",
        "bÃ¡n giÃ y",
        "bÃ¡n hÃ ng shopee",
        "thu tiá»n tá»« khÃ¡ch",
        "nháº­n thanh toÃ¡n",
        "bÃ¡n Ä‘á»“ cÅ©",
        "chá»£ tá»‘t",
        "facebook marketplace",
    ],
    bonus: [
        "thÆ°á»Ÿng thÃªm",
        "bonus",
        "hoa há»“ng",
        "lÃ¬ xÃ¬",
        "tiá»n thÆ°á»Ÿng",
        "tiá»n thÆ°á»Ÿng táº¿t",
        "phá»¥ cáº¥p",
        "support",
        "tip",
        "tiá»n tip",
        "bÃ¹ lÆ°Æ¡ng",
        "há»— trá»£",
        "commission",
        "incentive",
    ],
    invest: [
        "Ä‘áº§u tÆ°",
        "chá»©ng khoÃ¡n",
        "cá»• phiáº¿u",
        "coin",
        "crypto",
        "bitcoin",
        "bnb",
        "eth",
        "usdt",
        "lá»£i nhuáº­n",
        "trade",
        "lÃ£i suáº¥t",
        "gá»­i tiáº¿t kiá»‡m",
        "bank interest",
        "Ä‘áº§u tÆ° quá»¹",
        "náº¡p coin",
        "rÃºt coin",
        "Ä‘áº§u tÆ° forex",
        "lá»£i nhuáº­n Ä‘áº§u tÆ°",
        "lÃ£i Ä‘áº§u tÆ°",
    ],
    education: [
        "há»c phÃ­",
        "há»c thÃªm",
        "há»c tiáº¿ng anh",
        "trung tÃ¢m",
        "khÃ³a há»c",
        "online course",
        "khoÃ¡ há»c udemy",
        "mua sÃ¡ch",
        "tÃ i liá»‡u há»c",
        "thi cá»­",
        "gia sÆ°",
        "há»c phÃ­ Ä‘áº¡i há»c",
        "há»c phÃ­ trung tÃ¢m",
    ],
    entertainment: [
        "giáº£i trÃ­",
        "xem phim",
        "netflix",
        "spotify",
        "apple music",
        "xem concert",
        "chÆ¡i game",
        "steam",
        "mua game",
        "náº¡p game",
        "xem bÃ³ng Ä‘Ã¡",
        "Ä‘i du lá»‹ch",
        "travel",
        "du lá»‹ch",
        "karaoke",
        "Äƒn chÆ¡i",
        "Ä‘i bar",
        "Ä‘i cafe",
        "vÃ© xem phim",
        "ráº¡p phim",
        "mua vÃ©",
    ],
};
const extractTypeAndCategory = (prompt) => {
    const lower = prompt.toLowerCase();
    const result = {};
    // ğŸ·ï¸ XÃ¡c Ä‘á»‹nh type
    if (/(thu nháº­p|nháº­n|cÃ³ thÃªm|kiáº¿m Ä‘Æ°á»£c|Ä‘Æ°á»£c tráº£|lÆ°Æ¡ng|doanh thu)/.test(lower)) {
        result.type = "income";
    }
    else if (/(chi|máº¥t|tiÃªu|mua|tráº£ tiá»n|tá»‘n|Ä‘Ã£ thanh toÃ¡n|chi tiÃªu)/.test(lower)) {
        result.type = "expense";
    }
    // ğŸ—‚ï¸ XÃ¡c Ä‘á»‹nh category
    for (const [key, keywords] of Object.entries(categoryDictionary)) {
        for (const kw of keywords) {
            const regex = new RegExp(`\\b${kw}\\b`, "i");
            if (regex.test(lower)) {
                result.category = key;
                break;
            }
        }
        if (result.category)
            break;
    }
    return result;
};
exports.extractTypeAndCategory = extractTypeAndCategory;
